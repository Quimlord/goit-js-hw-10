{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst dateInput = document.getElementById('datetime-picker');\nconst startBtn = document.querySelector('[data-start]');\nconst timeElements = {\n  daysEl: document.querySelector('[data-days]'),\n  hoursEl: document.querySelector('[data-hours]'),\n  minutesEl: document.querySelector('[data-minutes]'),\n  secondsEl: document.querySelector('[data-seconds]'),\n};\n\nlet userDate;\nlet currentInterval;\nstartBtn.disabled = true; // Відключаємо кнопку при завантаженні\n\nconst flatpickrOptions = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  position: 'below left',\n  positionElement: dateInput,\n  locale: {\n    weekdays: {\n      shorthand: ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],\n      longhand: [\n        'Sunday',\n        'Monday',\n        'Tuesday',\n        'Wednesday',\n        'Thursday',\n        'Friday',\n        'Saturday',\n      ],\n    },\n  },\n  onClose(selectedDates) {\n    userDate = selectedDates[0];\n    checkDate(userDate);\n    updateTimerDisplay();\n  },\n};\n\nconst timeUnits = {\n  days: 1000 * 60 * 60 * 24,\n  hours: 1000 * 60 * 60,\n  minutes: 1000 * 60,\n  seconds: 1000,\n};\n\nstartBtn.addEventListener('click', startTimer);\nflatpickr(dateInput, flatpickrOptions);\n\nfunction showMessage() {\n  iziToast.error({\n    position: 'topRight',\n    title: 'Помилка',\n    message: 'Оберіть дату в майбутньому',\n    backgroundColor: '#EF4040',\n  });\n}\n\nfunction checkDate(date) {\n  const now = new Date().getTime();\n  const selectedTime = date.getTime();\n\n  if (selectedTime > now) {\n    startBtn.disabled = false;\n    return true;\n  } else {\n    showMessage();\n    startBtn.disabled = true;\n    return false;\n  }\n}\n\nfunction startTimer() {\n  if (!checkDate(userDate)) return;\n\n  clearInterval(currentInterval);\n  updateTimerDisplay();\n\n  currentInterval = setInterval(() => updateTimerDisplay(), 1000);\n\n  dateInput.disabled = true;\n  startBtn.disabled = true;\n}\n\nfunction updateTimerDisplay() {\n  let totalLeft = userDate.getTime() - new Date().getTime();\n\n  if (totalLeft <= 0) {\n    stopTimer();\n    return;\n  }\n\n  for (let key in timeUnits) {\n    const value = Math.floor(totalLeft / timeUnits[key])\n      .toString()\n      .padStart(2, '0');\n\n    timeElements[key + 'El'].textContent = value;\n    totalLeft %= timeUnits[key];\n  }\n}\n\nfunction stopTimer() {\n  clearInterval(currentInterval);\n  dateInput.disabled = false;\n}\n"],"names":["dateInput","startBtn","timeElements","userDate","currentInterval","flatpickrOptions","selectedDates","checkDate","updateTimerDisplay","timeUnits","startTimer","flatpickr","showMessage","iziToast","date","now","totalLeft","stopTimer","key","value"],"mappings":"2GAKA,MAAMA,EAAY,SAAS,eAAe,iBAAiB,EACrDC,EAAW,SAAS,cAAc,cAAc,EAChDC,EAAe,CACnB,OAAQ,SAAS,cAAc,aAAa,EAC5C,QAAS,SAAS,cAAc,cAAc,EAC9C,UAAW,SAAS,cAAc,gBAAgB,EAClD,UAAW,SAAS,cAAc,gBAAgB,CACpD,EAEA,IAAIC,EACAC,EACJH,EAAS,SAAW,GAEpB,MAAMI,EAAmB,CACvB,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,SAAU,aACV,gBAAiBL,EACjB,OAAQ,CACN,SAAU,CACR,UAAW,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,IAAI,EACpD,SAAU,CACR,SACA,SACA,UACA,YACA,WACA,SACA,UACD,CACF,CACF,EACD,QAAQM,EAAe,CACrBH,EAAWG,EAAc,CAAC,EAC1BC,EAAUJ,CAAQ,EAClBK,GACD,CACH,EAEMC,EAAY,CAChB,KAAM,IAAO,GAAK,GAAK,GACvB,MAAO,IAAO,GAAK,GACnB,QAAS,IAAO,GAChB,QAAS,GACX,EAEAR,EAAS,iBAAiB,QAASS,CAAU,EAC7CC,EAAUX,EAAWK,CAAgB,EAErC,SAASO,GAAc,CACrBC,EAAS,MAAM,CACb,SAAU,WACV,MAAO,UACP,QAAS,6BACT,gBAAiB,SACrB,CAAG,CACH,CAEA,SAASN,EAAUO,EAAM,CACvB,MAAMC,EAAM,IAAI,KAAM,EAAC,QAAO,EAG9B,OAFqBD,EAAK,UAEPC,GACjBd,EAAS,SAAW,GACb,KAEPW,IACAX,EAAS,SAAW,GACb,GAEX,CAEA,SAASS,GAAa,CACfH,EAAUJ,CAAQ,IAEvB,cAAcC,CAAe,EAC7BI,IAEAJ,EAAkB,YAAY,IAAMI,EAAoB,EAAE,GAAI,EAE9DR,EAAU,SAAW,GACrBC,EAAS,SAAW,GACtB,CAEA,SAASO,GAAqB,CAC5B,IAAIQ,EAAYb,EAAS,QAAO,EAAK,IAAI,KAAI,EAAG,UAEhD,GAAIa,GAAa,EAAG,CAClBC,IACA,MACD,CAED,QAASC,KAAOT,EAAW,CACzB,MAAMU,EAAQ,KAAK,MAAMH,EAAYP,EAAUS,CAAG,CAAC,EAChD,SAAU,EACV,SAAS,EAAG,GAAG,EAElBhB,EAAagB,EAAM,IAAI,EAAE,YAAcC,EACvCH,GAAaP,EAAUS,CAAG,CAC3B,CACH,CAEA,SAASD,GAAY,CACnB,cAAcb,CAAe,EAC7BJ,EAAU,SAAW,EACvB"}